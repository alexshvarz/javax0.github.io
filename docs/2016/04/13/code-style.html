<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Random Ideas about Code Style | Java Deep, mostly Java</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Random Ideas about Code Style" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Some of the sentences of this article are ironic. Others are to be taken serious. It is up to the reader to separate them. Start with these sentences." />
<meta property="og:description" content="Some of the sentences of this article are ironic. Others are to be taken serious. It is up to the reader to separate them. Start with these sentences." />
<link rel="canonical" href="http://localhost:4000/2016/04/13/code-style.html" />
<meta property="og:url" content="http://localhost:4000/2016/04/13/code-style.html" />
<meta property="og:site_name" content="Java Deep, mostly Java" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-04-13T00:00:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Random Ideas about Code Style" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2016-04-13T00:00:00+02:00","datePublished":"2016-04-13T00:00:00+02:00","description":"Some of the sentences of this article are ironic. Others are to be taken serious. It is up to the reader to separate them. Start with these sentences.","headline":"Random Ideas about Code Style","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2016/04/13/code-style.html"},"url":"http://localhost:4000/2016/04/13/code-style.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Java Deep, mostly Java" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Java Deep, mostly Java</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/about/">About</a><a class="page-link" href="/">Java Deep</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Random Ideas about Code Style</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2016-04-13T00:00:00+02:00" itemprop="datePublished">Apr 13, 2016
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div class="paragraph">
<p><em>Some of the sentences of this article are ironic. Others are to be taken serious. It is up to the reader to separate them. Start with these sentences.</em></p>
</div>
<div class="paragraph">
<p>How long should a method be in Java?</p>
</div>
<div class="paragraph">
<p>This is a question I ask many times during interviews. There is no one best answer. There are programming styles and different styles are just different and many can be ok. I absolutely accept somebody saying that a method should be as short as possible, but I can also accept 20 to 30 lines methods. Above 30 lines I would be a bit reluctant.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>"When I wrote this code only God and I understood it. Now only God does."
Quote from unknown programmer. Last quarter of the XX. century.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>The most important thing is that the code is readable. When you write the code you understand it. At least you think you understand what you wanted to code. What you actually coded may be a different story. And here comes the importance of readability as opposed to writeablity.</p>
</div>
<div class="paragraph">
<p>When you refactor a code containing some long method and you split up the method into many small methods you actually create a tree structure from a linear code. Instead of having one line after the other you create small methods and move the actual commands into those. After that the small methods are invoked from a higher level. Why does it make the code more readable?</p>
</div>
<div class="paragraph">
<p>First of all, because each method will have a name. That is what methods have and in Java we love camel cased talking names.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">private void pureFactoryServiceImplementationIncomnigDtoInvoker(IncomingDto incomingDto){
  incomingDto.invoke();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>But why is it any better than inlining the code and using comments?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// pure factory service implementation incoming dto invoker
incomingDto.invoke();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Probably that is because you have to type <code>pureFactoryServiceImplementationIncomnigDtoInvoker</code> twice? I know you will not type it twice. You will copy paste it or use some IDE auto-complete feature and for that reason the type replacing 'Incoming' to 'Incomnig' does not really matter.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>When you split up the code into small methods the names are a form of comment.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Very much like what we do in unit tests using JUnit 4.0 or later. Old versions had to start the test methods with the literal <code>test&#8230;&#8203;</code> but that was not a good idea. It was discovered long time ago. (I just wonder when Go will get there.) These days Groovy (and especially spock) lets us use whole sentences with spaces and new lines as method names in unit tests. But those method names fortunately should not be typed twice. They are listed and invoked by Junit via reflection and thus they really are what they really are: documentation.</p>
</div>
<div class="paragraph">
<p>So then the question still is: Why is tree structure better than linear?</p>
</div>
<div class="paragraph">
<p>Probably that is how our brains work. We look at a method and see that there are two-three method calls in that. There can be a simple branch or loop structure in it, perhaps one nested to the other but not much deeper than that. It is simple and if method names are selected well (I mean really in a good, meaningful and talking way), they are easy to understand, easy to read.</p>
</div>
<div class="paragraph">
<p>The we can, using the navigational aid of the IDE go to the methods and we can concentrate on the limited context of the method we are looking at. There is a rough rule:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>You should be able to understand what a method does in 15 seconds.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>If you stare at the method longer and you still have no idea what the method does it means it is too complex. Some people are better apprehending the structure of the code, others are challanged in that. I am in the latter group, so when I review code I many times prefer smaller and simpler methods. I refuse the code to be merged or I refactor it myself depending on the role, the actual task I perform. Juniors I work with think that I am strict and picky. The truth is I am slow. The complexity of the code should be compatible with the weakest chain: any one of the team (including imaginable future maintainers of the next coming 20 years till the code is finally deleted from production) should understand and maintain the code easily.</p>
</div>
<div class="paragraph">
<p>Many times looking at git history I see refactoring ping-pong. For example the method</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Result getFrom(SomeInput someInput){
  Result result = null;
  if( someInput != null ){
    result = someInput.get();
  }
  return result;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>is refactored to</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Result getFrom(SomeInput someInput){
  final Result result;
  if( someInput == null ){
    result = null;
  }else{
    result = someInput.get();
  }
  return result;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and later the other way around.</p>
</div>
<div class="paragraph">
<p>One is shorter, while the other one is more declarative. Is the repetitive refactoring back and forth a problem? Most probably is, but not for sure. If it happens only a few times and by different people then this is not something to worry about too much. When the code gets refactored the developer feels the code more attached to him/herself. A more "it is my code" feeling, which is important. Even though a good developer is not afraid to touch and modify any code. (what could happen? test fail? so what? test? what test?) Note that not all developers are good developers. But what is a good developer after all? It is relative. There are better developers and there are not so good. If you see only good developers who are better than you, then probably you are lucky. Or not.</p>
</div>
<div class="sect2">
<h3 id="comments-imported-from-wordpress">Comments imported from Wordpress</h3>
<div class="paragraph">
<p><strong>Martin Grajcar</strong> 2016-04-22 07:11:34</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>@Kovacs Geza: I&#8217;m not sure, if you do it like me or the other way round. A public method called
collapseAndConvertHyphensAndUnderscoresToCamelCaseAndWhatever could be called just sanitize if it was private. So bigger scope implies a more descriptive name. But the more often a method gets used, the more I prefer a short name (assuming equal scope). The reasons are 1. a heavily used name should be fast to scan over, 2. a heavily used method is something you get quickly familiar with (so a sort of speed dial is fine).</p>
</div>
<div class="paragraph">
<p>Concerning getFrom, there&#8217;s only one acceptable style for me:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Result getFrom(SomeInput someInput) {
  return someInput == null ? null : someInput.get();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Anything else would make me think "what complicated thing there a conditional statement is required for?". An expression (even conditional) feels much simpler (something gets computed, that&#8217;s all).</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p><strong>Szaszvari Peter</strong> 2016-04-14 07:47:13</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Peter, it is so good to read! Sometimes your post just heals me. BTW, you could color irony&#8230;&#8203;</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p><strong>Kovacs Geza</strong> 2016-04-20 13:55:11</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Regarding to length of the method name I usually thinking on the scope of the method. As many places it is used as shorter names I choose. For e.g. a utility method should be less then 3 camel part but a very specific method might be longer and more descriptive.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p><strong>tamasrev</strong> 2016-04-15 09:53:58</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Long method as linear code? That&#8217;s funny :)</p>
</div>
<div class="paragraph">
<p>I think if a method is as simple as a properties file, then we can keep it long. Otherwise we need to do so about the nested if-s, exception handling, break and return statements that are scattered unevenly through the lines</p>
</div>
</blockquote>
</div>
</div>


<!-- Disqus comments section goes here (if comments are enabled) -->

<hr/>
<h1>Comments</h1>
<p>Please leave your comments using Disqus, or just press one of the happy faces.
If for any reason you do not want to leave a comment here, <a href="https://github.com/javax0/javax0.github.io/issues">you can still create a Github ticket</a>.</p>
<div class="comments">
    <div id="disqus_thread"></div>

    <script type="text/javascript">

        /* * * STOP! * * */
        /* You shouldn't need to edit ANYTHING below to get this working! */
        /* Instead, edit the key `disqus.shortname` in _config.yml */

        var disqus_config = function (){
            this.page.url = 'http://localhost:4000/2016/04/13/code-style.html';
            this.page.identifier = '/2016/04/13/code-style.html';
        };

        (function() {
            var d = document, s = d.createElement('script');
            s.type = 'text/javascript'; s.async = true;
            s.src = 'https://javax0.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();

    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>




  </div><a class="u-url" href="/2016/04/13/code-style.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Java Deep, mostly Java</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Java Deep, mostly Java</li><li><a class="u-email" href="mailto:peter@verhas.com">peter@verhas.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/verhas"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">verhas</span></a></li><li><a href="https://www.twitter.com/verhas"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">verhas</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>javax0 is a technical Java oriented blog. Whenever I find something interesting, in the mood and feel the power to publish it, you will get it here. Publications are usually released on Wednesday 15:00am GMT. Earlier posts of the blog were published on Javax0 Wordpress Site at https://javax0.wordpress.com</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
