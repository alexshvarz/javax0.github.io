<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Upgrade to Java non-LTS version | Java Deep, mostly Java</title>
<meta name="generator" content="Jekyll v4.3.1" />
<meta property="og:title" content="Upgrade to Java non-LTS version" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="There was a bug discovered in Java 9" />
<meta property="og:description" content="There was a bug discovered in Java 9" />
<link rel="canonical" href="https://javax0.github.io/2018/06/07/upgrade-to-java-non-lts-version.html" />
<meta property="og:url" content="https://javax0.github.io/2018/06/07/upgrade-to-java-non-lts-version.html" />
<meta property="og:site_name" content="Java Deep, mostly Java" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-06-07T00:00:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Upgrade to Java non-LTS version" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2018-06-07T00:00:00+02:00","datePublished":"2018-06-07T00:00:00+02:00","description":"There was a bug discovered in Java 9","headline":"Upgrade to Java non-LTS version","mainEntityOfPage":{"@type":"WebPage","@id":"https://javax0.github.io/2018/06/07/upgrade-to-java-non-lts-version.html"},"url":"https://javax0.github.io/2018/06/07/upgrade-to-java-non-lts-version.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://javax0.github.io/feed.xml" title="Java Deep, mostly Java" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Java Deep, mostly Java</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/about/">About</a><a class="page-link" href="/">Java Deep</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Upgrade to Java non-LTS version</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2018-06-07T00:00:00+02:00" itemprop="datePublished">Jun 7, 2018
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div class="literalblock">
<div class="content">
<pre>There was a bug discovered in Java 9</pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://bugs.openjdk.java.net/browse/JDK-8204322" class="bare">https://bugs.openjdk.java.net/browse/JDK-8204322</a></p>
</div>
<div class="paragraph">
<p>and Richard Warburton tweeted about it</p>
</div>
<div class="paragraph">
<p><a href="https://twitter.com/RichardWarburto/status/1004258491995967488" class="bare">https://twitter.com/RichardWarburto/status/1004258491995967488</a></p>
</div>
<div class="paragraph">
<p>If you look at the Twitter thread you can see that following this tweet I had some friendly fencing-bout with Nicolai Parlog about upgrading or not upgrading to non-LTS Java versions for commercial production applications (what a Shakespearean dilemma!).
Part of the bouts was about misunderstandings as usually when using a limited communication channel.
(Just a side note: I know Nicolai irl, he publishes a lot, a nice guy, great Java expert and in case you follow me on the blog, twitter or just in the street you definitely should also follow him, .. better not in the street, that is creepy.)</p>
</div>
<div class="paragraph">
<p>Since Twitter is a bit short of characters I decided to collect here my thoughts.</p>
</div>
<div class="sect1">
<h2 id="1-what-is-the-question-at-all">1. What is the question at all?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For a lot of people, who use a computer and support themselves, install new software the question is obvious: use the latest version!
Why would anyone want to use an outdated version of a software?
I do not say that their answer is wrong for the situation they are in, but it is not a rationally calculated decision.
You can decide based on rations or based on feelings or even random.
Your decision may be sufficiently good, though science says that decisions based on well-established reasoning are usually more reliable and more often sufficiently good than other decisions.
That is the reason why there are so many divorces.</p>
</div>
<div class="paragraph">
<p>The well-established reasonings about the upgrades and when to upgrade consider the cost and the benefit of the upgrade.
What costs do we have?</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-costs-and-benefits">2. Costs and benefits</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first and most obvious cost item of the software upgrade is the installation cost: $latex C_i$.</p>
</div>
<div class="paragraph">
<p>It may be small, but it can also be significant when the organization has several servers.
The installation has to be tested.
The new version of the software may not be compatible with the previous version from which we upgrade and it has to be tested.
Proof of the pudding is eating.
The testing should be done on the actual application that we use.
For example, we may not care about the bug that falsely calculates an <code>x += value</code> expression if our code never uses the <code>+=</code> operator.
The testing cost is $latex C_t$.</p>
</div>
<div class="paragraph">
<p>The benefit $latex B$, the reason we do the upgrade is that the software runs better and thus it produces more income $latex \Delta I_u$ for the company and/or needs less maintenance cost $latex C_m$.</p>
</div>
<div class="paragraph">
<p>$latex B = \int_0^T \Delta I_u - C_m dt$</p>
</div>
<div class="paragraph">
<p>The summing up should be considered from the time of the installation until the time while the software is used.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-assumptions-simplifications">3. Assumptions, simplifications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In case of a Java version upgrade, it is extremely difficult to know the $latex \Delta I_u$ and the best estimate is to model it as zero.
That essentially leads us to cost reduction.
Estimating the cost reduction we usually ignore the short-term effects and consider only the long-term ones.
Using Java 9 instead of Java 8 in a short time period rather increases than decreases the support costs.
The support people have to learn the small intricacies of the new version and they are likely to make more mistakes shortly after the upgrade.
This is essentially a temporary increase that we could consider to be part of the upgrade cost.
In real life, if ever these calculations are performed these costs are not identified and do not get an estimated value.
Rather they are ignored lessening the detected cost of an upgrade.
This is understandable if you consider that these cost estimations are made by IT people and we love the newest versions and we want to upgrade.
(As a demonstration read the Twitter thread.)</p>
</div>
<div class="paragraph">
<p>In the long run, when we consider the $latex T$ in the range of 5 to 10 years the maintenance cost is drastically increasing.
A few years ago an old friend of mine was offered a year-long contract to maintain RPG application (not the role-playing game, google it, it eas before COBOL) for 400EUR per hour and he refused saying that the little time he has left he wants to spend with the family.
(Old I meant literally in his case.) You cannot find a developer who would joyfully jump on the possibility to maintain a Java 6 application and if they accept they will not be shy to ask the price.
You will see the same moue on their face when you mention that time age-old Java 8 or Java 9 version.</p>
</div>
<div class="paragraph">
<p>That means that the $latex \int_0^T C_m dt$ part is estimated as infinite for large $latex T$ values and zero for small ones.
In layman terms, it implies that sooner or later we have to upgrade.
Upgrade necesse est.
Vivere non est necesse.</p>
</div>
<div class="paragraph">
<p>What we have left is the cost of the upgrade $latex C_i$.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="4-upgrade-cost">4. Upgrade cost</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When we consider Java long term and non-long term support versions we have to compare the small steps upgrade process and the three stairs jump climbing from one LTS to the next LTS version.
Every upgrade cost has a constant part $latex C_{ic}$.
This is the cost of downloading the media, installing on the server, running the tests, managing the meetings, communicating the out-of-service times and so on.</p>
</div>
<div class="paragraph">
<p>There is another part of the cost that depends on the previous version from which we upgrade, a variable part of the cost $latex C_{iv}$.
When you upgrade from Java 8 to Java 9 you have to fight each and every compatibility issue that affects your application.
Say this is $latex C_{iv}(J_8,J_9)$.
Similarly, you will have $latex C_{iv}(J_9,J_{10})$ and $latex C_{iv}(J_{10},J_{11})$.</p>
</div>
<div class="paragraph">
<p>The big question is</p>
</div>
<div class="paragraph">
<p>$latex C_{iv}(J_8,J_9) + C_{iv}(J_9,J_{10}) + C_{iv}(J_{10},J_{11}) + 3 C_{ic} &lt; C_{iv}(J_8,J_{11}) + C_{ic}$</p>
</div>
<div class="paragraph">
<p>?</p>
</div>
<div class="paragraph">
<p>It is certain that the variable part of the cost of the upgrade from Java 8 to Java 11 is larger than the same adding up from Java 8 to Java 9 and then from Java 9 to Java 10 and from Java 10 to Java 11. Using the notation for the difference</p>
</div>
<div class="paragraph">
<p>$latex \Delta C_{iv} =C_{iv}(J_8,J_{11}) - \big(C_{iv}(J_8,J_9) + C_{iv}(J_9,J_{10}) + C_{iv}(J_{10},J_{11})\big)$</p>
</div>
<div class="paragraph">
<p>the above question becomes simpler and easier to interpret:</p>
</div>
<div class="paragraph">
<p>$latex 2 C_{ic} &lt; \Delta C_{iv}$</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="5-interpretation-and-conclusion">5. Interpretation and conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The calculation mainly is playing around with latex and mathematical expressions, and they result in the obvious: if the constant cost of the upgrade that happens three times in one case versus one time in the other case is bigger than the extra cost of the big leap upgrading from Java 8 to Java 11 then you should not upgrade to the intermediate versions.
If you work in a big organization with a lot of meetings, lot of administration, which is needed to keep the organization alive, then you do not upgrade for each an every version.
If you are a small company, doing things fast and flexible then you will upgrade.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="6-post-scriptum">6. Post Scriptum</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Creating the formulas and expressing the calculation in a mathematicized way helps engineers to avoid some mistakes like ignoring some cost that should not be.</p>
</div>
<div class="paragraph">
<p>Do not think that being small, flexible and fast is always better than big, slow.
Both have advantages and disadvantages and both have the place to live in the economy.
A small company will never build a railway, a telecom network, or an ocean cruiser.
The dinosaurs are extinct but there are whales as well as viruses.
You may certainly enjoy more to work for a virus than for a whale.</p>
</div>
<div class="sect2">
<h3 id="comments-imported-from-wordpress">Comments imported from Wordpress</h3>
<div class="paragraph">
<p><strong>tamasrev</strong> 2018-06-11 16:07:56</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>I have a question.
This might be ignorant, but I need to know if I&#8217;m getting it completely wrong.</p>
</div>
<div class="paragraph">
<p>So, isn&#8217;t it a bug that comes with a certain version of openjdk?
I mean, a certain version of javac that comes with openjdk.
Oracle-s javac doesn&#8217;t seem to be affected.
Using the latest jvm with an older - but still java 9 jdk (javac) also seems to be okay.</p>
</div>
<div class="paragraph">
<p>So, please tell me gently: what am I missing?</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p><strong>tamasrev</strong> 2018-06-12 12:34:42</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Then we should be careful with conclusions like this shows how little java 9 was adopted.
This only shows how little openjdk9 was adopted.</p>
</div>
<div class="paragraph">
<p>Nevertheless, java 9 adoption might be low anyway.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p><strong>Peter Verhas</strong> 2018-06-12 14:31:57</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>You are absolutely right.
Nevertheless, we may safely assume that openjdk9 adoption is proportional with Java 9 adoption.
Also, I used the tweet only as an illustration.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p><strong>Peter Verhas</strong> 2018-06-12 09:32:10</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Nicolai wrote me a mail:</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>[blockquote]#&gt; I&#8217;ve seen it and want to add an additional cost: The cost to determine for any given migration problem in an LTS-to-LTS migration, which Java version caused it.
Imagine how much easier it is to find a solution when googling for "my problem Java 13" as opposed to "my problem".
;) &lt;&lt;&lt;</p>
</div>
<div class="paragraph">
<p><em>__</em>#</p>
</div>
<div class="paragraph">
<p>and I cannot argue with him.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>Peter Verhas</strong> 2018-06-12 09:30:47</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Gently: I do not know.
I have not investigated the original bug in any way.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>tamasrev</strong> 2018-06-13 11:30:58</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>I don&#8217;t know this proportion, it seems to be disproportionate.</p>
</div>
<div class="paragraph">
<p>Now, that was a lousy two-liner.
So sorry.
I didn&#8217;t mean nitpicking.
I just have this machine in my head that sees an implication and then it emulates the possible scenarios.</p>
</div>
<div class="paragraph">
<p>So, yeah, you&#8217;re right too: Low openjdk 9 adoption means low oracle jdk 9 adoption.
The oracle jdk adoption is higher than that of the openjdk but anyway.</p>
</div>
<div class="quoteblock">
<blockquote>

</blockquote>
</div>
</div>
</div>
</div>


<!-- Disqus comments section goes here (if comments are enabled) -->

<hr/>
<h1>Comments</h1>
<p>Please leave your comments using Disqus, or just press one of the happy faces.
If for any reason you do not want to leave a comment here, <a href="https://github.com/javax0/javax0.github.io/issues">you can still create a Github ticket</a>.</p>
<div class="comments">
    <div id="disqus_thread"></div>

    <script type="text/javascript">

        /* * * STOP! * * */
        /* You shouldn't need to edit ANYTHING below to get this working! */
        /* Instead, edit the key `disqus.shortname` in _config.yml */

        var disqus_config = function (){
            this.page.url = 'https://javax0.github.io/2018/06/07/upgrade-to-java-non-lts-version.html';
            this.page.identifier = '/2018/06/07/upgrade-to-java-non-lts-version.html';
        };

        (function() {
            var d = document, s = d.createElement('script');
            s.type = 'text/javascript'; s.async = true;
            s.src = 'https://javax0.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();

    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>




  </div><a class="u-url" href="/2018/06/07/upgrade-to-java-non-lts-version.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Java Deep, mostly Java</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Java Deep, mostly Java</li><li><a class="u-email" href="mailto:peter@verhas.com">peter@verhas.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/verhas"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">verhas</span></a></li><li><a href="https://www.twitter.com/verhas"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">verhas</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>javax0 is a technical Java oriented blog. Whenever I find something interesting, in the mood and feel the power to publish it, you will get it here. Publications are usually released on Wednesday 15:00am GMT. Earlier posts of the blog were published on Javax0 Wordpress Site at https://javax0.wordpress.com</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
