<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>To comment or not to comment, that is the question | Java Deep, mostly Java</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="To comment or not to comment, that is the question" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I was reading the article The Golden Rules of Code Documentation and I thought to give an example of how I handle the situation expressed there using the following sentence:" />
<meta property="og:description" content="I was reading the article The Golden Rules of Code Documentation and I thought to give an example of how I handle the situation expressed there using the following sentence:" />
<link rel="canonical" href="https://javax0.github.io/2013/04/07/to-comment-or-not-to-comment-that-is-the-question.html" />
<meta property="og:url" content="https://javax0.github.io/2013/04/07/to-comment-or-not-to-comment-that-is-the-question.html" />
<meta property="og:site_name" content="Java Deep, mostly Java" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2013-04-07T00:00:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="To comment or not to comment, that is the question" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2013-04-07T00:00:00+02:00","datePublished":"2013-04-07T00:00:00+02:00","description":"I was reading the article The Golden Rules of Code Documentation and I thought to give an example of how I handle the situation expressed there using the following sentence:","headline":"To comment or not to comment, that is the question","mainEntityOfPage":{"@type":"WebPage","@id":"https://javax0.github.io/2013/04/07/to-comment-or-not-to-comment-that-is-the-question.html"},"url":"https://javax0.github.io/2013/04/07/to-comment-or-not-to-comment-that-is-the-question.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://javax0.github.io/feed.xml" title="Java Deep, mostly Java" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Java Deep, mostly Java</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/about/">About</a><a class="page-link" href="/">Java Deep</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">To comment or not to comment, that is the question</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2013-04-07T00:00:00+02:00" itemprop="datePublished">Apr 7, 2013
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div class="paragraph">
<p>I was reading the article <span class="a">The Golden Rules of Code Documentation</span> and I thought to give an example of how I handle the situation expressed there using the following sentence:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>If you need comments to clarify code, better think how to write code differently, so it is more understandable. You do not need yet another language (comments) to mess with the primary language (code).</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>The referenced article argues with the statement above even letting personal feelings out:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Quite obviously, this person has written 1-2 “Hello world” applications, where this obviously holds true.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>I felt touched, since I totally agree with the statement quoted first and at the same time I strongly believe that after 25 years of programming I can not be categorized as a "hello word" programmer. Those who do not know me: I wrote ScriptBasic (C language), Jamal (Perl), jScriptBasic (Java) to mention an excerpt from the few OS projects I was heavily involved in. I can mention but not list the codes I created professionally to feed myself and family for different banks, telcos and honey water companies.</p>
</div>
<div class="paragraph">
<p>To proof his point, the author of the before mentioned article says:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>How would you write this business logic down into code, such that you can live without comments?</p>
</div>
<div class="paragraph">
<p><em>A stock exchange order of clearing type code 27 needs to be grouped with all other subsequent orders of type code 27 (if and only if they have a rounding lot below 0.01), before actually unloading them within a time-frame of at most 35 seconds (fictional example in a real-life application).</em></p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>I had three thoughts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Challenge accepted (first instinct, usually stupid)</p>
</li>
<li>
<p>The text in the quoted quote was about comments between the lines of the code and not the JavaDoc and not even the documentation of the project. The requirement text given as an example is by no means to be put into the code. That is a requirement.</p>
</li>
<li>
<p>Nothing heals badly formatted requirements like the sample given above. Never mind, that is not a real spec. only an example. Forget this last comment, I do not want to open flame war on this. There is enough battlefield elsewhere.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rest of the referenced article talks about documentation and if I replace the word "comment" with "documentation" in the text I can generally be agreeable with that.</p>
</div>
<div class="paragraph">
<p>But lets have a look at the fun part! Read again the "spec" above and have a look at the code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package stock;

public class StockExchangeOrderUploader implements Runnable {

	private final StockExchangeOrderSource source;

	public StockExchangeOrderUploader(StockExchangeOrderSource source) {
		this.source = source;
	}

	private StockExchangeOrderGroup pendingGroup = null;

	public void setPendingGroup(StockExchangeOrderGroup group) {
		pendingGroup = group;
	}

	@Override
	public void run() {
		while (source.hasNext()) {
			final StockExchangeOrder order = source.next();
			if (order.isBelowRoundingLotLimit() &amp;amp;&amp;amp; order.isOfClearingType27()) {
				if (There.isA(pendingGroup)
						.whichWasStartedNotSoonerThan35SecondsBeforeThis(order)) {
					Add.the(order).toThe(pendingGroup);
				} else {
					if (There.isAny(pendingGroup)) {
						Upload.the(pendingGroup);
					}
					Add.the(order).toThe(pendingGroup);
				}
			}else{
				Upload.the(order);
			}
		}
		if( There.isAny(pendingGroup)){
			Upload.the(pendingGroup);
		}
	}

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Do you feel the need to put any comment between the lines? Do you need anything?</p>
</div>
<div class="paragraph">
<p>Oh&#8230;&#8203;. jah.. sorry. Perhaps the other interfaces and classes:</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/verhas/commentOrNotToComment" class="bare">https://github.com/verhas/commentOrNotToComment</a></p>
</div>
<div class="sect2">
<h3 id="comments-imported-from-wordpress">Comments imported from Wordpress</h3>
<div class="paragraph">
<p><strong>lukaseder</strong> 2013-04-07 08:01:36</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Aaahaha, I have to "like" this one. Of course, this code still communicates "what", not "why". It does so in a fluent / OO way, instead of an imperative way, which is ultimately no different, except that the API is now polluted with hardly reusable knowledge about this particular requirement.</p>
</div>
<div class="paragraph">
<p>Why was it so important in the twisted requirements, to do all this stuff only for clearing type cd 27? And why only for a rounding lot &lt; 0.01. And "why" &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Anyway, thanks for the great counter-rant:-)</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p><strong>Peter Verhas</strong> 2013-04-07 16:10:27</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>I still believe that the explanation of 'why' should not get into the comments. Especially not into the in-line code comment, which I mean is not JavaDoc. The 'why' is there in the specification if there is any.</p>
</div>
<div class="paragraph">
<p>Any text in the program should either be</p>
</div>
<div class="ulist">
<ul>
<li>
<p>something needed to execute the code, or</p>
</li>
<li>
<p>something needed to maintain the code</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first one is the program code itself and whenever there is any tool that depends on the content of the code to generate code or alter the behaviour of the code: it is the clear sign of some weakness of the language, or just bad tool. One should decide in the actual case which one that is.</p>
</div>
<div class="paragraph">
<p>The other one is the code and the comments. The code, no question, is needed to maintain the code. Without it there is nothing to maintain. The comment is solely for documentation purposes. There are other documents as well in our everyday practice that are for documentation purposes, like wiki pages being Confluence or md5, generated site reports and so on. The comment part of the documentation is special, because it is inside the code.</p>
</div>
<div class="paragraph">
<p>We do two things with documents: we read them, and we write them. Probably the writing part comes first, but for our discussion it is irrelephant. Documentation should be tied to the code, in other words be in comment, that is better to be read along with the code or better to write along the code.</p>
</div>
<div class="paragraph">
<p>JavaDoc is comment because it is written along the code. (Well, yes, if written at all. I mean in ideal case.) You, as a developer, can also read it along the code, but 99% of the cases you read them on web pages, or in the hoover box in Eclipse.</p>
</div>
<div class="paragraph">
<p>In-line comment is there, because the one, who writes it believes that it helps it being read along the code. It is written by the programmer.</p>
</div>
<div class="paragraph">
<p>The "'why' does the program do that" part comes from the specification. It is not written by the programmer, but rather a Business Analyst. If ever the requirement changes the BA will not change the comment in the code. If the programmer copies the spec to the code as a comment the data is duplicated while the information remained constant: there is a risk of misalignment of the information between the different representation, even if it is verbatim copy. You may not copy all the document, you may not copy a relevant part: possibility of error. If you must, reference the spec.</p>
</div>
<div class="paragraph">
<p>If the comment is not about the spec, but some other 'why' then there is some problem. What were your ideas when you wrote that code? Should you write that in a comment? Why isn&#8217;t that clear from the code. Perhaps you are still programming FORTRAN or some other language that is not expressive enough and you have to extend the code with in-line comments so that it is understandable. Perhaps you use Java, which is a bit more expressive than FORTRAN (just as an example) but you use it in a non-expressive way. That is the point when you have to think about your own style. Perhaps Java as a language is not expressive enough.</p>
</div>
<div class="paragraph">
<p>Nobody (well, at least wise programmers) says not to use in-line comments ever. The advice is: if you feel like you need some, better think before if there is any other way that is better.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p><strong>lukaseder</strong> 2013-04-11 23:02:55</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Yes yes ;-)</p>
</div>
<div class="paragraph">
<p>I&#8217;m talking about referencing the spec (ideally along with ticket IDs) and outlining it in 1-2 sentences. If absolutely needed, of course. I&#8217;m not talking about verbatim copying of 50 paragraphs of specs. Where did you get <strong>that</strong> idea from? ;-)</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p><strong>Logging or Commenting ? | Java Deep</strong> 2014-06-25 12:00:06</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>[&#8230;] and does not fit the code, please visit the article The Golden Rules of Code Documentation and the rant to the [&#8230;]</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p><strong>Michael Jacob</strong> 2015-09-24 01:02:48</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>I put down a comment detailing the "why" every time I suspect that someone who will read the code in the future will think "This could be implemented much shorter/cleaner/correct using [solution I tried first and spent an hour finding out that it doesn&#8217;t work that way, why it won&#8217;t work that ways and how to do it in a way that actually works]"</p>
</div>
<div class="paragraph">
<p>And every time I see some code that behaves differently in some borderline case I stare at the screen and wish there was a comment telling me if that was intentional or not. (Consider yourself lucky if you have specs down to the method level. Or anything that is more than functional requirements and UI design.)</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p><strong>Rahul Kale</strong> 2017-11-24 06:27:22</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Code here is very good example, It made me to think differently</p>
</div>
</blockquote>
</div>
</div>


<!-- Disqus comments section goes here (if comments are enabled) -->

<hr/>
<h1>Comments</h1>
<p>Please leave your comments using Disqus, or just press one of the happy faces.
If for any reason you do not want to leave a comment here, <a href="https://github.com/javax0/javax0.github.io/issues">you can still create a Github ticket</a>.</p>
<div class="comments">
    <div id="disqus_thread"></div>

    <script type="text/javascript">

        /* * * STOP! * * */
        /* You shouldn't need to edit ANYTHING below to get this working! */
        /* Instead, edit the key `disqus.shortname` in _config.yml */

        var disqus_config = function (){
            this.page.url = 'https://javax0.github.io/2013/04/07/to-comment-or-not-to-comment-that-is-the-question.html';
            this.page.identifier = '/2013/04/07/to-comment-or-not-to-comment-that-is-the-question.html';
        };

        (function() {
            var d = document, s = d.createElement('script');
            s.type = 'text/javascript'; s.async = true;
            s.src = 'https://javax0.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();

    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>




  </div><a class="u-url" href="/2013/04/07/to-comment-or-not-to-comment-that-is-the-question.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Java Deep, mostly Java</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Java Deep, mostly Java</li><li><a class="u-email" href="mailto:peter@verhas.com">peter@verhas.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/verhas"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">verhas</span></a></li><li><a href="https://www.twitter.com/verhas"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">verhas</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>javax0 is a technical Java oriented blog. Whenever I find something interesting, in the mood and feel the power to publish it, you will get it here. Publications are usually released on Wednesday 15:00am GMT. Earlier posts of the blog were published on Javax0 Wordpress Site at https://javax0.wordpress.com</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
